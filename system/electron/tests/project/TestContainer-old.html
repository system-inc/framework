<!DOCTYPE html>
<html>

	<head>

		<title>Test &bull; Electron &bull; Framework</title>

		<script>
			var ElectronRemote = require('remote');
			var Application = ElectronRemote.app;

			// Dependencies (global)
			Framework = require('../../../../Framework.js');

			// Class (global)
			Project = new Framework(__dirname);

			// Initialize
			Project.initialize();

			Application.eventEmitter.on('proctor.getAndRunTests', function(event) {
				Console.log('caught event!', event, event.path, event.filePattern, event.methodPattern);

				var Proctor = Framework.require('system/test/Proctor.js');
				var proctor = new Proctor('electron', true);

				proctor.on('Proctor.startedRunningTests', function(event) {
					Application.eventEmitter.emit('Proctor.startedRunningTests');
				});
				proctor.on('Proctor.startedRunningTest', function(event) {
					
				});
				proctor.on('Proctor.startedRunningTestMethod', function(event) {
					
				});
				proctor.on('Proctor.finishedRunningTestMethod', function(event) {
					
				});
				proctor.on('Proctor.finishedRunningTest', function(event) {
					
				});
				proctor.on('Proctor.finishedRunningTests', function(event) {
					Application.eventEmitter.emit('Proctor.finishedRunningTests');
					//Application.testBrowserWindow.close();
				});

				proctor.getAndRunTests(event.path, event.filePattern, event.methodPattern);
			});

		</script>

	</head>

	<body>
		
	</body>

</html>